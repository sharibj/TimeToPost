<!DOCTYPE html>
<html>

<head>
    <title>Token Flow</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.16/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="flex justify-center items-center h-screen">
    <div class="grid grid-flow-row grid-rows-2 grid-cols-1 gap-4">

        <div class="grid grid-flow-row grid-rows-1 grid-cols-1 gap-4 invisible" id="spinner">
            <div aria-label="Loading..." role="status" class="flex justify-center items-center ">
                <svg class="animate-spin w-10 h-10" viewBox="3 3 18 18">
                    <path class="opacity-20"
                        d="M12 5C8.13401 5 5 8.13401 5 12C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5ZM3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12Z">
                    </path>
                    <path
                        d="M16.9497 7.05015C14.2161 4.31648 9.78392 4.31648 7.05025 7.05015C6.65973 7.44067 6.02656 7.44067 5.63604 7.05015C5.24551 6.65962 5.24551 6.02646 5.63604 5.63593C9.15076 2.12121 14.8492 2.12121 18.364 5.63593C18.7545 6.02646 18.7545 6.65962 18.364 7.05015C17.9734 7.44067 17.3403 7.44067 16.9497 7.05015Z">
                    </path>
                </svg>
            </div>
        </div>
        <div class="grid grid-flow-row grid-rows-1 grid-cols-2 gap-4">
            <button
                class="hover:text-white hover:bg-black px-6 h-12 uppercase font-semibold tracking-wider border-2 border-black bg-teal-400 text-black"
                onclick="uploadPoolFile()">Upload Pool File</button>
            <button
                class="hover:text-white hover:bg-black px-6 h-12 uppercase font-semibold tracking-wider border-2 border-black bg-teal-400 text-black"
                onclick="downloadPoolFile()">Download Pool File</button>
        </div>
        <div class="grid grid-flow-row grid-rows-1 grid-cols-1 gap-4">

            <button
                class="hover:text-white hover:bg-black px-6 h-12 uppercase font-semibold tracking-wider border-2 border-black bg-teal-400 text-black"
                onclick="initiateLinkedInAccess()">Allow LinkedIn Access</button>
        </div>
    </div>

    <script>
        function uploadPoolFile() {
            // Add your upload pool file logic here
            console.log("Uploading pool file...");
        }

        function downloadPoolFile() {
            // Add your download pool file logic here
            console.log("Downloading pool file...");
        }

        function initiateLinkedInAccess() {
            // Add your LinkedIn access token flow using code grant here
            console.log("Initiating LinkedIn access token flow...");
            showSpinner();
            let currentUrl = window.location.href;

            // Remove any query parameters from the current URL
            const urlWithoutParams = currentUrl.split("?")[0];

            // Append '/authorize' to the current URL
            const redirectWithAuthorize = `${urlWithoutParams}/authorize`;

            // Redirect the user to the modified URL
            window.location.href = redirectWithAuthorize;
        }

        function showSpinner() {
            var spinnerElement = document.getElementById("spinner");
            spinnerElement.classList.remove("invisible");
        }
    </script>
</body>

</html>